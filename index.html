<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Baltic Sands - Debug Mode</title>
    <script src="https://unpkg.com/@0xsequence/connect@latest/dist/sequence-connect.umd.js"></script>
    <style>
        body { background: #0f172a; color: white; font-family: sans-serif; text-align: center; padding: 50px; }
        .box { background: #1e293b; padding: 30px; border-radius: 20px; display: inline-block; min-width: 300px; }
        #debug-log { background: #000; color: #0f0; padding: 10px; font-family: monospace; font-size: 11px; margin-top: 20px; text-align: left; border-radius: 5px; max-height: 150px; overflow-y: auto; }
        button { background: #7c3aed; color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; width: 100%; font-weight: bold; }
        button:disabled { background: #475569; }
    </style>
</head>
<body>
    <div class="box">
        <h1>Baltic Sands üåä</h1>
        <button id="btn" disabled>INICJOWANIE...</button>
        <div id="debug-log">Log: Czekam na start...</div>
    </div>

    <script>
        const log = (msg) => { document.getElementById('debug-log').innerText += "\n> " + msg; };
        
        // Klucze z Twojego Playground
        const P_KEY = "AQAAAAAAALh5IxSkQVSt1pHvWybD9OlDl44";
        const W_KEY = "eyJwcm9qZWN0SWQiOjQ3MjI1LCJycGNTZXJ2ZXIiOiJodHRwczovL3dhYXMuc2VxdWVuY2UuYXBwIn0=";

        async function init() {
            log("Szukam biblioteki Sequence...");
            // Sprawdzamy r√≥≈ºne mo≈ºliwe ≈õcie≈ºki eksportu biblioteki Connect
            const seq = window.sequenceConnect || (window.sequence ? window.sequence.connect : null);
            
            if (!seq) {
                log("B≈ÅƒÑD: Biblioteka nie za≈Çadowana. Pr√≥bujƒô ponownie...");
                setTimeout(init, 1000);
                return;
            }

            log("Biblioteka znaleziona. Konfigurujƒô...");
            try {
                const config = seq.createConfig('waas', {
                    projectAccessKey: P_KEY,
                    waasConfigKey: W_KEY,
                    defaultChainId: 1946,
                    appName: "Baltic Sands",
                    email: true,
                    renderInline: false
                });

                const connector = new seq.SequenceConnect(config);
                const btn = document.getElementById('btn');
                btn.disabled = false;
                btn.innerText = "ZALOGUJ SIƒò";
                log("SYSTEM GOTOWY ‚úÖ");

                btn.onclick = async () => {
                    log("Otwieram okno logowania...");
                    try {
                        const res = await connector.connect();
                        if (res.connected) {
                            log("ZALOGOWANO: " + res.session.accountAddress);
                            alert("Sukces! Adres: " + res.session.accountAddress);
                        }
                    } catch (e) {
                        log("B≈ÅƒÑD LOGOWANIA: " + e.message);
                    }
                };
            } catch (err) {
                log("B≈ÅƒÑD KONFIGURACJI: " + err.message);
            }
        }

        window.onload = init;
    </script>
</body>
</html>
